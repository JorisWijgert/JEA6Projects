<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Profile of #{profileBean.chosenUser.name} | Kwetter</title>
    <f:metadata>
        <f:viewAction action="#{profileBean.onLoad(loginBean.chosenUser)}"></f:viewAction>
    </f:metadata>
</h:head>
<h:body>
    <p>Logged in as #{profileBean.loggedInUser.name}</p>

    <div id="s0">
        <img src="#{profileBean.getChosenUserProfilePhoto()}" alt="#{profileBean.chosenUser.name}"/>
        <p>#{profileBean.chosenUser.name}</p>
    </div>
    <div id="s1Tweets">
        <h2>Kweets</h2>
        <p:dataList value="#{profileBean.latestKweets}" var="kweet" type="definition">
            <f:facet name="header">
                Kweets
            </f:facet>
            #{kweet.message}
            <f:facet name="description">
                <h:outputText value="#{kweet.date.time}" >
                    <f:convertDateTime pattern="EEEE dd MMMM yyyy HH:mm:ss" />
                </h:outputText>
            </f:facet>
        </p:dataList>
    </div>
    <div id="s2Details">
        <h2>Details</h2>

        <p>Name: #{profileBean.chosenUser.name}</p>
        <p>Location: #{profileBean.chosenUser.location}</p>
        <p>Web: <a href="#{profileBean.chosenUser.web}">#{profileBean.chosenUser.web}</a></p>
        <p>Bio: #{profileBean.chosenUser.bio}</p>
        <h:outputText value=" #{profileBean.getEditButtonText()}" escape="false"></h:outputText>
    </div>
    <div id="s3Stats">
        <h2>Stats</h2>
    </div>
    <div id="s4Following">
        <h2>Following</h2>
    </div>
</h:body>

</html>